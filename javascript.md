# Javascript

## 数据分为基本数据类型(String, Number, Boolean,BigInt, Null, Undefined，Symbol)和对象数据类型(Object,Array,Function)。

1、基本数据类型的特点：直接存储在栈(stack)中的数据
2、引用数据类型的特点：存储的是该对象在栈中引用，真实的数据存放在堆内存里

### 浅拷贝和深拷贝
#### 浅拷贝只复制指向某个对象的指针，而不复制对象本身，新旧对象还是共享同一块内存。但深拷贝会另外创造一个一模一样的对象，新对象跟原对象不共享内存，修改新对象不会改到原对象。

方式|和原数据是否指向同一对象|第一层数据未基本数据类型|原数据中包含子对象
--|:--:|:--:|--:
赋值|是|改变会使原数据一同改变|改变会使原数据一同改变
浅拷贝|否|改变**不**会使原数据一同改变|改变会使原数据一同改变
深拷贝|否|改变**不**会使原数据一同改变|改变**不**会使原数据一同改变
```
let arr = [1, 3, {
   username: ' kobe'
}];
let arr3 = arr.slice();
arr3[1] = 2
console.log(arr,arr3);
```
浅拷贝是按位拷贝对象，它会创建一个新对象，这个对象有着原始对象属性值的一份精确拷贝。如果属性是基本类型，拷贝的就是基本类型的值；如果属性是内存地址（引用类型），拷贝的就是内存地址 ，因此如果其中一个对象改变了这个地址，就会影响到另一个对象。即默认拷贝构造函数只是对对象进行浅拷贝复制(逐个成员依次拷贝)，即只复制对象空间而不复制资源。
简单地说，就是例子中arr经过浅拷贝后，修改arr3的基础属性值，arr的不会变；修改arr3的对象属性值，如果arr3[2],arr[2]也会跟着变

作者：grain先森
链接：https://www.jianshu.com/p/35d69cf24f1f
来源：简书
著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。

#### 浅拷贝的实现方式
1. Object.assign()
2. Array.prototype.concat()
3. Array.prototype.slice()
4. ...obj的方式 扩展运算符

#### 深拷贝的实现方式
1. JSON.parse(JSON.stringify())  **这种方法虽然可以实现数组或对象深拷贝，但不能处理函数、null、undifined、sybol**
2. 手写递归方法：遍历对象、数组直到里边都是基本数据类型，然后再去复制，就是深度拷贝。
3. 函数库lodash
```
var _ = require('lodash');
var obj1 = {
   a: 1,
   b: { f: { g: 1 } },
   c: [1, 2, 3]
};
var obj2 = _.cloneDeep(obj1);
console.log(obj1.b.f === obj2.b.f);
// false
```
